<h1>Cards</h1>
<hr>
{{#if cards}}
<ul class="list-group">
    {{#each cards}}
        <li class="list-group-item">
            <div class="d-flex w-100 justify-content-between">
                <div>
                    <span><b>{{this.nick}}</b></span>
                    <span class="ms-2">{{this.card_num}}</span>
                    <span class="ms-2"><b>Expires:</b> {{this.exp_date}}</span>
                    {{#if this.primary}}<span class="ms-2"><b>Primary</b></span>{{/if}}
                </div>
                <div>
                    {{#if this.primary}}
                    {{else}}
                    <a class="btn btn-secondary" href="/account/makePrimaryCard/{{this.id}}">Make primary</a>
                    {{/if}}
                    <a class="btn btn-danger" href="/account/removeCard/{{this.id}}">Remove card</a>
                </div>
            </div>
        </li>
    {{/each}}
</ul>
{{else}}
<h2>You have no cards, add one to get started!</h2>
{{/if}}

<button class="btn btn-success btn-lg mt-2" data-bs-toggle="modal" data-bs-target="#addCardModal" type="button">
    <span class="material-icons">add</span>Add card
</button>

<div class="modal fade" id="addCardModal" tabindex="-1">
    <div class="modal-dialog">
        <form action="/account/addCard" method="post">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add a card</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Nickname</label>
                        <input type="text" class="form-control" name="nick">
                        <small class="form-text text-muted">A recognizable nickname for the card.</small>
                    </div>
                    <div class="form-group">
                        <label>Number</label>
                        <input type="text" class="form-control" name="num">
                    </div>
                    <div class="form-group">
                        <label>CVV</label>
                        <input type="number" class="form-control" name="cvv">
                    </div>
                    <div class="form-group">
                        <label>Expiry date</label>
                        <input type="text" class="form-control" name="exp_date">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Add Card</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    document.onload = function() {
        document.getElementById("#sidebar-card").classList.toggle("active");
    };
</script>